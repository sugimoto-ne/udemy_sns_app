# ãƒ†ã‚¹ãƒˆã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹

## ğŸ”’ é‡è¦: ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã¯é–‹ç™ºç’°å¢ƒã«å½±éŸ¿ã—ã¾ã›ã‚“

ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆï¼‰ã¯**ãƒ†ã‚¹ãƒˆå°‚ç”¨ç’°å¢ƒ**ã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚

| ç’°å¢ƒ | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ | APIã‚µãƒ¼ãƒãƒ¼ | ãƒãƒ¼ãƒˆ |
|------|------------|-----------|--------|
| **é–‹ç™ºç’°å¢ƒ** | `sns_db` | `sns_api` | DB: 5432, API: 8080 |
| **ãƒ†ã‚¹ãƒˆç’°å¢ƒ** | `sns_db_test` | `sns_api_test` | DB: 5433, API: 8081 |

---

## ğŸš€ æ¨å¥¨: ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿè¡Œ

```bash
# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ + E2Eï¼‰
make test

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ†ã‚¹ãƒˆã®ã¿
make test-backend

# E2Eãƒ†ã‚¹ãƒˆã®ã¿
make test-e2e

# åˆ©ç”¨å¯èƒ½ãªã‚³ãƒãƒ³ãƒ‰ä¸€è¦§
make help
```

**ã™ã¹ã¦è‡ªå‹•ã§å®Ÿè¡Œã•ã‚Œã¾ã™ï¼ˆç’°å¢ƒèµ·å‹•â†’ãƒ†ã‚¹ãƒˆå®Ÿè¡Œâ†’ç’°å¢ƒåœæ­¢ï¼‰**

---

## ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å˜ä½“ãƒ†ã‚¹ãƒˆ

### ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

```bash
make test-backend
```

### æ‰‹å‹•å®Ÿè¡Œ

```bash
# 1. ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’èµ·å‹•
docker compose --profile test up -d db_test api_test
# ã¾ãŸã¯
make test-setup

# 2. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆãƒ†ã‚¹ãƒˆç”¨APIã‚³ãƒ³ãƒ†ãƒŠã§å®Ÿè¡Œï¼‰
docker compose exec api_test go test ./...

# 3. ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’åœæ­¢ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
docker compose --profile test down
# ã¾ãŸã¯
make test-teardown
```

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

```bash
# è©³ç´°å‡ºåŠ›
docker compose exec api_test go test -v ./...

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ã
docker compose exec api_test go test -cover ./...

# ç‰¹å®šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿
docker compose exec api_test go test ./internal/services
```

---

## E2Eãƒ†ã‚¹ãƒˆï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼‰

### ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰

```bash
make test-e2e
```

### æ‰‹å‹•å®Ÿè¡Œ

```bash
# 1. ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’èµ·å‹•
cd frontend
npm run test:setup
# ã¾ãŸã¯
make test-setup

# 2. E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
npm run test:e2e

# 3. ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’åœæ­¢ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
npm run test:teardown
# ã¾ãŸã¯
make test-teardown
```

### ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰

```bash
# UIãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œï¼ˆè¦–è¦šçš„ã«ç¢ºèªï¼‰
npm run test:e2e:ui

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
npm run test:e2e:debug

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã®ã¿
npx playwright test tests/e2e/auth.spec.ts
```

---

## ç’°å¢ƒã®ç¢ºèª

```bash
# èµ·å‹•ä¸­ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’ç¢ºèª
docker compose ps

# ãƒ†ã‚¹ãƒˆç”¨ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª
docker compose --profile test ps

# ãƒ†ã‚¹ãƒˆç”¨APIã®ãƒ­ã‚°ã‚’ç¢ºèª
docker compose logs -f api_test
```

---

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹

```bash
# ãƒ†ã‚¹ãƒˆç’°å¢ƒã®çŠ¶æ…‹ã‚’ç¢ºèª
docker compose ps

# ãƒ†ã‚¹ãƒˆç’°å¢ƒã‚’å†èµ·å‹•
docker compose --profile test down
docker compose --profile test up -d db_test api_test
```

### ãƒãƒ¼ãƒˆãŒä½¿ç”¨ä¸­

```bash
# ãƒãƒ¼ãƒˆ5433, 8081ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
lsof -i :5433
lsof -i :8081
```

---

## è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- ç·åˆã‚¬ã‚¤ãƒ‰: `/docs/TESTING.md`
- E2Eå®Ÿè£…ã‚¬ã‚¤ãƒ‰: `/docs/E2E_TEST_IMPLEMENTATION_GUIDE.md`
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰E2E: `/frontend/README_E2E_TESTING.md`
